<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MEV8VPW64E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-MEV8VPW64E');
  </script>
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Huge script, little guy | Uneducated Technology</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="Huge script, little guy" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Follow a meandering career in tech…" />
<meta property="og:description" content="Follow a meandering career in tech…" />
<link rel="canonical" href="https://onthefritzz.com/googleNotesToThermal/" />
<meta property="og:url" content="https://onthefritzz.com/googleNotesToThermal/" />
<meta property="og:site_name" content="Uneducated Technology" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-11-28T00:00:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Huge script, little guy" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-11-28T00:00:00-06:00","datePublished":"2022-11-28T00:00:00-06:00","description":"Follow a meandering career in tech…","headline":"Huge script, little guy","mainEntityOfPage":{"@type":"WebPage","@id":"https://onthefritzz.com/googleNotesToThermal/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://onthefritzz.com/images/ij-logo-round.png"}},"url":"https://onthefritzz.com/googleNotesToThermal/"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/skins/dark.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="Uneducated Technology" href="/feed.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  huge-script-little-guy">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/stats/">Stats</a></li><li><a href="/">Posts</a></li><li><a href="/tags/">Tags</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Uneducated Technology">
        <img src="/images/ij-logo-round.png" class="site-logo-img animated fadeInDown" alt="Uneducated Technology">
      </a>
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">Uneducated Technology</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">Follow a meandering career in tech...</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Huge script, little guy
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info"><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href=""><i class="fas fa-link fa-lg" title=""></i></a>
          </li></ul>
    <time class="page-date dt-published" datetime="2022-11-28T00:00:00-06:00"><a class="u-url" href="">November 28, 2022</a>
</time>

  </div>
</div>

        

        
  <h3 class="page-taxonomies-title">Tags</h3>
  
  <ul class="page-taxonomies"><li class="page-taxonomy">API</li><li class="page-taxonomy">Automation</li><li class="page-taxonomy">NanoPi Neo</li><li class="page-taxonomy">Python</li>
  </ul>


      </div>

      <div class="page-content">
        <div class="e-content">
          <p><img src="/images/personal/optimal-route.jpg" alt="image-left" class="align-left" /></p>

<p>Took an Epson TM-T88V out of the literal trash. No doubt it still worked because a retired $150+ printer is actually kinda cheap compared to some of the things other people throw away. Shiney is miney.</p>

<p>Epson thermal printers are ubiquitous. Take a look next time. They are used at the grocery store, dollar store, restaurants and if you looked under the hood of a self checkout machine, there’s prolly one there too.
So the idea of putting hands on one for free, getting access to it (possibly even punching a relay for a cash drawer) could prove useful. If nothing else, a fun weekend project.</p>

<p><img src="/images/personal/final.gif" alt="no-alignment" /></p>

<p>The task? Make it useful even though there is no personal need to print sales receipts. Physical grocery lists are exceedingly better than digital ones. They don’t require unlocking, loading an app, scrolling back to find your place, etc… However digital ones also won’t be found flapping in the breeze after having to immediately drive back from the grocery store because it’s no longer in a pocket. <a href="https://www.youtube.com/watch?v=OawrlVoQqSs">Porque no los dos?</a></p>

<p>On a wild hair, the script uses a lookup table to organize a list by aisle. So as to create the most efficient ‘buying route’. The script amounts to almost 300 lines of code and was tested on Windows and Armbian.</p>

<p>TL;DR:</p>

<p>Combine Google Notes API and Epson Python Library to have fun with literal trash.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">escpos</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">gkeepapi</span><span class="p">,</span> <span class="n">keyring</span><span class="p">,</span> <span class="n">shutil</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">yaml</span>

<span class="k">class</span> <span class="nc">ThermalPrinter</span><span class="p">():</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">epson</span> <span class="o">=</span> <span class="n">printer</span><span class="p">.</span><span class="n">Usb</span><span class="p">(</span><span class="mh">0x04B8</span><span class="p">,</span> <span class="mh">0x0202</span><span class="p">)</span> <span class="c1"># WinUSB Port IDs of Epson M224A
</span>    <span class="bp">self</span><span class="p">.</span><span class="n">maxCharPerLine</span> <span class="o">=</span> <span class="mi">42</span> <span class="c1"># The maximum characters per line that will fit on Epson TM-T88V
</span>    <span class="bp">self</span><span class="p">.</span><span class="n">footer</span> <span class="o">=</span> <span class="s">''</span>

  <span class="k">def</span> <span class="nf">cut</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">epson</span><span class="p">.</span><span class="n">cut</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">printBarcode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s">''</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="s">''</span><span class="p">:</span>
      <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Barcode was not supplied!'</span><span class="p">)</span>
    <span class="n">typeCode</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">typeCode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span> <span class="ow">and</span> <span class="n">typeCode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
      <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Barcode is not valid int() or str() type!'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">13</span><span class="p">:</span>
      <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Barcode Too Short!...'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">epson</span><span class="p">.</span><span class="n">barcode</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="s">'EAN13'</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>

    <span class="bp">self</span><span class="p">.</span><span class="n">cut</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">printImage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="o">=</span><span class="s">'img.jpg'</span><span class="p">):</span> <span class="c1"># Really need to crop/resize image to paper dimensions...
</span>    <span class="bp">self</span><span class="p">.</span><span class="n">epson</span><span class="p">.</span><span class="n">image</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">cut</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">printText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">footer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="s">""" Efficiently print to-do/grocery list. ie:
    One line contains maximum characters without spreading single checkbox, bullet or string onto multiple lines
    """</span>
    <span class="k">if</span> <span class="n">header</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span> <span class="c1"># Note input argument has a title
</span>      <span class="n">title</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">noteLines</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">strip</span><span class="p">().</span><span class="n">split</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    
    <span class="k">else</span><span class="p">:</span> <span class="c1"># Do not include a title/header
</span>      <span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
      <span class="n">noteLines</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">strip</span><span class="p">().</span><span class="n">split</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    
    <span class="n">formattedNote</span> <span class="o">=</span> <span class="s">''</span>
    <span class="n">lineCounter</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">noteLines</span><span class="p">:</span>
      <span class="n">printerLine</span> <span class="o">=</span> <span class="n">formattedNote</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)[</span><span class="n">lineCounter</span><span class="p">]</span>
      <span class="n">lineBuffer</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">printerLine</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="c1"># Get current character length of both printer line and note line
</span>      <span class="k">if</span> <span class="n">lineBuffer</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="p">.</span><span class="n">maxCharPerLine</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lineBuffer</span> <span class="o">==</span> <span class="bp">self</span><span class="p">.</span><span class="n">maxCharPerLine</span><span class="p">:</span> <span class="c1"># Line full, next iteration *will* start with \n
</span>          <span class="n">formattedNote</span> <span class="o">+=</span> <span class="n">line</span> <span class="c1"># Line has max chars, do not add space/exceed line buffer.
</span>        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Add space between checkboxes in case next iteration is on same line.
</span>          <span class="n">formattedNote</span> <span class="o">+=</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s"> '</span>
      <span class="k">else</span><span class="p">:</span> <span class="c1"># Line buffer exceeded, start new printer line.
</span>        <span class="n">formattedNote</span> <span class="o">+=</span> <span class="sa">f</span><span class="s">'</span><span class="se">\n</span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s"> '</span>
        <span class="n">lineCounter</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">header</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span> <span class="c1"># After formatting content of note, prefix with title
</span>      <span class="n">formattedNote</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">formattedNote</span><span class="si">}</span><span class="s">'</span>

    <span class="k">if</span> <span class="n">footer</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
      <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span> <span class="k">as</span> <span class="n">dt</span>
      <span class="n">formattedNote</span> <span class="o">+=</span> <span class="bp">self</span><span class="p">.</span><span class="n">footer</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'%NOW%'</span><span class="p">,</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">dt</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%m.%d.%Y @ %H</span><span class="si">:</span><span class="o">%</span><span class="n">M</span><span class="si">:</span><span class="o">%</span><span class="n">S</span><span class="s">")</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">'Note reformatted to maximum efficiency.</span><span class="se">\n</span><span class="s">Printing...'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">formattedNote</span><span class="p">)</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">epson</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">formattedNote</span><span class="p">)</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">cut</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>

<span class="k">class</span> <span class="nc">KeepNotes</span><span class="p">():</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">keep</span> <span class="o">=</span> <span class="n">gkeepapi</span><span class="p">.</span><span class="n">Keep</span><span class="p">()</span>
    
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'keepConfig.yml'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">y</span><span class="p">:</span>
      <span class="n">keepConfig</span> <span class="o">=</span> <span class="n">yaml</span><span class="p">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="n">user</span> <span class="o">=</span> <span class="n">keepConfig</span><span class="p">[</span><span class="s">'user'</span><span class="p">]</span>
    <span class="n">pswd</span> <span class="o">=</span> <span class="n">keepConfig</span><span class="p">[</span><span class="s">'pswd'</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">user</span> <span class="o">==</span> <span class="s">''</span> <span class="ow">or</span> <span class="n">pswd</span> <span class="o">==</span> <span class="s">''</span><span class="p">:</span>
      <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Missing login credentials...'</span><span class="p">)</span>

    <span class="bp">self</span><span class="p">.</span><span class="n">imageFormat</span> <span class="o">=</span> <span class="s">'.jpg'</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">keep</span> <span class="o">=</span> <span class="n">keep</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">catBorderL</span> <span class="o">=</span> <span class="s">'--------------'</span><span class="c1">#'--------{---(@'
</span>    <span class="bp">self</span><span class="p">.</span><span class="n">catBorderR</span> <span class="o">=</span> <span class="s">'--------------'</span><span class="c1">#'@)---}--------' 
</span>    <span class="c1"># Below example needs to be imported from a json file using json library. Multiple jsons, mulitple stores.
</span>    <span class="bp">self</span><span class="p">.</span><span class="n">storeAisles</span> <span class="o">=</span> <span class="n">keepConfig</span><span class="p">[</span><span class="s">'grocery-store'</span><span class="p">]</span>

    <span class="k">try</span><span class="p">:</span> <span class="c1"># Try resuming previous API session using token....
</span>      <span class="k">print</span><span class="p">(</span><span class="s">'Attemping to use previous login token...'</span><span class="p">)</span>
      <span class="n">token</span> <span class="o">=</span> <span class="n">keyring</span><span class="p">.</span><span class="n">get_password</span><span class="p">(</span><span class="s">'google-keep-token'</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
      <span class="n">keep</span><span class="p">.</span><span class="n">resume</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
    
    <span class="k">except</span><span class="p">:</span> <span class="c1"># Token not present or old, create a new token...
</span>      <span class="k">print</span><span class="p">(</span><span class="s">'Logging in...'</span><span class="p">)</span>
      <span class="n">success</span> <span class="o">=</span> <span class="n">keep</span><span class="p">.</span><span class="n">login</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">pswd</span><span class="p">)</span>
      <span class="n">token</span> <span class="o">=</span> <span class="n">keep</span><span class="p">.</span><span class="n">getMasterToken</span><span class="p">()</span>
      <span class="n">keyring</span><span class="p">.</span><span class="n">set_password</span><span class="p">(</span><span class="s">'google-keep-token'</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
  
  <span class="k">def</span> <span class="nf">noteFound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notes</span><span class="p">):</span> <span class="c1"># Determines if note search function has matched on a note or not.
</span>    <span class="k">if</span> <span class="n">notes</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="bp">None</span><span class="p">]]:</span> <span class="c1"># If note object is variation of empty None value...
</span>      <span class="k">return</span> <span class="bp">False</span> <span class="c1"># Note not found
</span>    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="bp">True</span> <span class="c1"># Note found!
</span>
  <span class="k">def</span> <span class="nf">findNoteID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">):</span> <span class="c1"># Find note by ID (url suffix), otherwise throw error if no match found.
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span> <span class="c1"># get(ID) returns as contents of note as opposed to object array, so...
</span>    <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">noteFound</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">[</span><span class="n">notes</span><span class="p">]</span> <span class="c1"># Return as array
</span>    <span class="k">else</span><span class="p">:</span>
      <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">'Could not find ID "</span><span class="si">{</span><span class="n">ID</span><span class="si">}</span><span class="s">"'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">findNoteKeyword</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyword</span><span class="p">):</span> <span class="c1"># Find notes that contain keyword, otherwise throw error if no match found.
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">keyword</span><span class="p">)</span> <span class="c1"># find() returns objects
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span> <span class="c1"># put objects into array
</span>
    <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">noteFound</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">notes</span> <span class="c1"># return array
</span>    <span class="k">else</span><span class="p">:</span>
      <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">'Note with keyword "</span><span class="si">{</span><span class="n">keyword</span><span class="si">}</span><span class="s">" not found.'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">findNoteLabeled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span> <span class="c1"># Find Note by label identifier, otherwise throw error if no match found.
</span>    <span class="n">findLabel</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">findLabel</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="c1"># Find label
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="n">findLabel</span><span class="p">])</span> <span class="c1"># Find notes with label
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">noteFound</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">notes</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">'Note with label "</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s">" not found.'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">searchFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># One function to search all Google Notes by 3 identifiers. id, keyword, label.
</span>    <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">argument</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">argumentVal</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">try</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">argument</span> <span class="o">==</span> <span class="s">'label'</span><span class="p">:</span>
        <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">findNoteLabeled</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">argumentVal</span><span class="p">)</span>
    
      <span class="k">elif</span> <span class="n">argument</span> <span class="o">==</span> <span class="s">'ID'</span><span class="p">:</span>
        <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">findNoteID</span><span class="p">(</span><span class="n">ID</span><span class="o">=</span><span class="n">argumentVal</span><span class="p">)</span>
    
      <span class="k">elif</span> <span class="n">argument</span> <span class="o">==</span> <span class="s">'keyword'</span><span class="p">:</span>
        <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">findNoteKeyword</span><span class="p">(</span><span class="n">keyword</span><span class="o">=</span><span class="n">argumentVal</span><span class="p">)</span>

      <span class="k">return</span> <span class="n">notes</span>

    <span class="k">except</span><span class="p">:</span> <span class="c1"># Either argument that was passed is invalid or note matching search criteria failed.
</span>      <span class="k">if</span> <span class="n">argument</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s">'ID'</span><span class="p">,</span> <span class="s">'keyword'</span><span class="p">,</span> <span class="s">'label'</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">'Invalid "</span><span class="si">{</span><span class="n">argument</span><span class="si">}</span><span class="s">" argument. Search arguments include: ID, keyword, label'</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">'Note search unsuccessful. Try swiping down to refresh Google Notes App...'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">saveUrlToImg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s">'default.jpg'</span><span class="p">):</span> <span class="c1"># Use requests and shutil to download img from url and save to file.
</span>    <span class="kn">import</span> <span class="nn">requests</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outFile</span><span class="p">:</span>
        <span class="n">shutil</span><span class="p">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">raw</span><span class="p">,</span> <span class="n">outFile</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">response</span>

  <span class="k">def</span> <span class="nf">downloadImage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># Find note by identifier, download and save all attached pictures
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">searchFor</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    
    <span class="n">images</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Array of all image urls
</span>    <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span> <span class="c1"># For each note...
</span>      <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">img</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">note</span><span class="p">.</span><span class="n">images</span><span class="p">):</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">note</span><span class="p">.</span><span class="n">images</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="c1"># Get all images indexed in note
</span>        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">getMediaLink</span><span class="p">(</span><span class="n">image</span><span class="p">)</span> <span class="c1"># Get url for each image...
</span>        <span class="n">images</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="c1"># Append image url to array
</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">url</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">images</span><span class="p">):</span> <span class="c1"># For each image in array...
</span>      <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">x</span><span class="si">}{</span><span class="bp">self</span><span class="p">.</span><span class="n">imageFormat</span><span class="si">}</span><span class="s">'</span> <span class="c1"># Establish name for image based on enumeration. ie: 1.jpg, 2.jpg, etc...
</span>      <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Saving image: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">...'</span><span class="p">)</span>
      <span class="bp">self</span><span class="p">.</span><span class="n">saveUrlToImg</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span> <span class="c1"># Use requests and shutil libraries to convert url to jpg
</span>
  <span class="k">def</span> <span class="nf">deleteNoteBy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># Delete note matching specified id, keyword or label.
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">searchFor</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="s">'Deleting note...'</span><span class="p">)</span>
      <span class="n">note</span><span class="p">.</span><span class="n">delete</span><span class="p">()</span>
    <span class="c1">#self.keep.sync() # Have to sync with Google, otherwise no changes will be made.
</span>
  <span class="k">def</span> <span class="nf">createOrganizedCopy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">getNotesWith</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s">'label'</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="s">'grocery'</span><span class="p">)</span> <span class="c1"># Need to make this dynamic later (take, label, ID, etc...)
</span>
    <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span>
      <span class="n">orgNote</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">note</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">split</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">):</span>
        <span class="k">if</span> <span class="s">'[ ]'</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
          <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'[ ]'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
          <span class="n">line</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="n">line</span><span class="p">,</span> <span class="bp">False</span><span class="p">))</span>
          <span class="n">orgNote</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'-----'</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
          <span class="n">line</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="n">line</span><span class="p">,</span> <span class="bp">False</span><span class="p">))</span>
          <span class="n">orgNote</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

      <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">createList</span><span class="p">(</span><span class="n">note</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">orgNote</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="s">'Organize note and created it...'</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">getNotesWith</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">searchFor</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    
    <span class="n">noteBlobs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span>
      <span class="n">noteTitle</span> <span class="o">=</span> <span class="n">note</span><span class="p">.</span><span class="n">title</span>
      <span class="n">note</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">note</span><span class="p">.</span><span class="n">text</span><span class="si">}</span><span class="s">'</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'☐'</span><span class="p">,</span> <span class="s">'[ ]'</span><span class="p">)</span> <span class="c1"># replace any checkbox unicode characters with regular brackets
</span>      <span class="n">noteBlobs</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">noteTitle</span><span class="p">,</span> <span class="n">note</span><span class="p">])</span>
    
    <span class="k">if</span> <span class="n">ordered</span> <span class="o">==</span> <span class="s">'grocery'</span><span class="p">:</span> <span class="c1"># If ordered specified as grocery, reorganize grocery list according to aisle. ie: Most efficient buying route
</span>      <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">noteBlobs</span><span class="p">:</span>
        <span class="n">groceries</span> <span class="o">=</span> <span class="n">note</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">replace</span><span class="p">(</span><span class="s">'[ ] '</span><span class="p">,</span> <span class="s">''</span><span class="p">).</span><span class="n">split</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span> <span class="c1"># [-1] References the content (not title) of note, reduce list strings to item names
</span>        <span class="n">groceries</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">.</span><span class="n">strip</span><span class="p">().</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">groceries</span><span class="p">]</span> <span class="c1"># Remove trailing \n chars. Leaving lowercase values without check boxes, fluff, etc...
</span>        <span class="n">basket</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># Create a dictionary, corresponding to the final 'basket'
</span>
        <span class="k">for</span> <span class="n">lotion</span> <span class="ow">in</span> <span class="n">groceries</span><span class="p">:</span>
          <span class="n">basket</span><span class="p">[</span><span class="n">lotion</span><span class="p">]</span> <span class="o">=</span> <span class="s">'None-Misc'</span> <span class="c1"># Fill up the dict basket with items. All items start with None-Misc location value
</span>
        <span class="k">for</span> <span class="n">aisle</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">storeAisles</span><span class="p">:</span> <span class="c1"># For each aisle in json/dict
</span>          <span class="k">for</span> <span class="n">item</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">basket</span><span class="p">.</span><span class="n">items</span><span class="p">():</span> <span class="c1"># Get each item and location in basket
</span>            <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">storeAisles</span><span class="p">[</span><span class="n">aisle</span><span class="p">]</span> <span class="ow">and</span> <span class="n">location</span> <span class="o">==</span> <span class="s">'None-Misc'</span><span class="p">:</span>  <span class="c1"># If basket item found in json aisle..
</span>              <span class="n">basket</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">aisle</span> <span class="c1"># assign known aisle to basket item location
</span>        <span class="n">sortBasket</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">basket</span><span class="p">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="c1"># Sort by aisle, then alphabetically for optimal buying route and visual reference
</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">aisleCounter</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Counter to determine which aisle we're one
</span>        <span class="k">for</span> <span class="n">item</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">sortBasket</span><span class="p">:</span>
          <span class="n">location</span> <span class="o">=</span> <span class="n">location</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">'-'</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
          <span class="k">if</span> <span class="n">location</span> <span class="o">==</span> <span class="n">aisleCounter</span><span class="p">:</span>
            <span class="n">items</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s">'[ ] </span><span class="si">{</span><span class="n">item</span><span class="p">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span> <span class="c1"># Add item to note blob
</span>          <span class="k">else</span><span class="p">:</span> <span class="c1"># Location of item is different...
</span>            <span class="n">aisleCounter</span> <span class="o">=</span> <span class="n">location</span> <span class="c1"># update aisle counter to current aisle.
</span>            <span class="n">items</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">catBorderL</span><span class="si">}</span><span class="s"> Aisle: </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">catBorderR</span><span class="si">}</span><span class="se">\n</span><span class="s">[ ] </span><span class="si">{</span><span class="n">item</span><span class="p">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span> <span class="c1"># Label each part of the note with respective aisle.
</span>        
        <span class="n">note</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Remove old list
</span>        <span class="n">note</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">''</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">))</span> <span class="c1"># Append new list smooshed into a single string
</span>    
    <span class="c1">#print(noteBlobs)
</span>    <span class="k">return</span> <span class="n">noteBlobs</span> <span class="c1"># Returns as 2D array because their may be multiple notes
</span>
  <span class="k">def</span> <span class="nf">removeLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rmLabel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># Can only remove one label at a time for now...
</span>    <span class="n">notes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">searchFor</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">argument</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="p">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">argumentVal</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="p">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># Arguments passed in label as string  
</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">findLabel</span><span class="p">(</span><span class="n">rmLabel</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span>
        <span class="n">note</span><span class="p">.</span><span class="n">labels</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Label removed...'</span><span class="p">)</span>

    <span class="k">except</span><span class="p">:</span> <span class="c1"># If label was not specified in any way...
</span>      <span class="k">if</span> <span class="n">argument</span> <span class="o">==</span> <span class="s">'label'</span> <span class="ow">and</span> <span class="n">rmLabel</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># Try to find discern label from arguments.
</span>        <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">findLabel</span><span class="p">(</span><span class="n">argumentVal</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span>
          <span class="n">note</span><span class="p">.</span><span class="n">labels</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
          <span class="k">print</span><span class="p">(</span><span class="s">'Label removed...'</span><span class="p">)</span>
      
      <span class="k">elif</span> <span class="n">argument</span> <span class="o">!=</span> <span class="s">'label'</span> <span class="ow">and</span> <span class="n">rmLabel</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># Label not passed in argument. Cannot derive label value from note identifier...
</span>        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">'Label "</span><span class="si">{</span><span class="n">rmLabel</span><span class="si">}</span><span class="s">" not found....'</span><span class="p">)</span>
      
      <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">'Label not defined in argument.</span><span class="se">\n</span><span class="s">I even tried to check the note identifier for you.</span><span class="se">\n</span><span class="s">You failed.'</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">True</span>

  <span class="k">def</span> <span class="nf">sync</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">keep</span><span class="p">.</span><span class="n">sync</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
  <span class="n">tp</span> <span class="o">=</span> <span class="n">ThermalPrinter</span><span class="p">()</span>
  <span class="n">kn</span> <span class="o">=</span> <span class="n">KeepNotes</span><span class="p">()</span>
  <span class="n">notes</span> <span class="o">=</span> <span class="n">kn</span><span class="p">.</span><span class="n">getNotesWith</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'print-me'</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="s">'grocery'</span><span class="p">)</span>
  <span class="p">[</span><span class="n">tp</span><span class="p">.</span><span class="n">printText</span><span class="p">(</span><span class="n">note</span><span class="p">)</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">]</span>
</code></pre></div></div>

        </div>

        
          <!--<div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fonthefritzz.com%2FgoogleNotesToThermal%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=Huge+script%2C+little+guy%20https%3A%2F%2Fonthefritzz.com%2FgoogleNotesToThermal%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fonthefritzz.com%2FgoogleNotesToThermal%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=Huge+script%2C+little+guy&url=https%3A%2F%2Fonthefritzz.com%2FgoogleNotesToThermal%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>-->

        

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/simpli-safer/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Simpli Safer

      </span>
    </a>
  

  
    <a class="page-next" href="/ramSifter9001/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        RAM Sorter 9001
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="copyright">
    
      <p>&copy; 2024 Uneducated Technology. <br> Powered by <a href="https://www.vultr.com/">Vultr</a>, <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> and <a href="https://mademistakes.com/"> mademistakes </a></p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script><!---->


  </body>

</html>
